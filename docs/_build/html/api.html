<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="How to Install and Run the Project" href="installation.html" />

    <!-- Generated with Sphinx 6.1.3 and Furo 2023.03.27 -->
        <title>API - Experimental Robotics Project 2022 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --top_of_page_button: edit;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Experimental Robotics Project 2022 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/genoa_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Experimental Robotics Project 2022 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_architecture.html">Description of the Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations.html">System limitations and Possible Improvements</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">How to Install and Run the Project</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">API</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/pradyunsg/furo/edit/main/docs/api.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this heading">#</a></h1>
<section id="module-scripts.controller">
<span id="controller-module"></span><h2>Controller Module<a class="headerlink" href="#module-scripts.controller" title="Permalink to this heading">#</a></h2>
<span class="target" id="module-controller"></span><p>In this module the class <code class="docutils literal notranslate"><span class="pre">Controller</span></code> takes action messages from the state machine and processes the
message to figure out what node server to call and what information the node would require to carry out
the goal, it then sends the required information to the node server that is required to carry out the
action. For this version of the project, only the <code class="docutils literal notranslate"><span class="pre">navigation</span> <span class="pre">server</span></code> and the <code class="docutils literal notranslate"><span class="pre">knowledge</span> <span class="pre">server</span></code> is
required to carry out the task for the simulation senario</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For this version of the project, most or all of the nodes are more or less place holders to
build the architecture required for the project, for this reason the nodes are not very functional
for example the navigation node uses the fun <code class="docutils literal notranslate"><span class="pre">time.sleep(sec_to_sleep)</span></code> to waste time in order to
simulate navigation.</p>
</div>
<dl class="simple">
<dt><strong>Subscribes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Publishes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Service:</strong></dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">/robot_state</span></code> <em>(server)</em>:</dt><dd><p>computes and manages the state of the robot, when a request is sent to
it, it responds with the state of the robot eg (<code class="docutils literal notranslate"><span class="pre">low_battery</span></code>, <code class="docutils literal notranslate"><span class="pre">robot_isin</span></code> etc), to stop the
surveilance action of the robot <code class="docutils literal notranslate"><span class="pre">&quot;stop</span> <span class="pre">surveillance&quot;</span></code> goal can be sent to this server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">/knowledge_srv</span></code> <em>(client)</em>:</dt><dd><p>sends updated knowledge information to the knowledge server to update
into the ontology.</p>
</dd>
</dl>
</dd>
<dt><strong>Action:</strong></dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">/robot_navigation</span></code> <em>(client)</em>:</dt><dd><p>sends a goal location to the navigation node for the robot to navigate to.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.controller.Controller">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.controller.</span></span><span class="sig-name descname"><span class="pre">Controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/controller.html#Controller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller" title="Permalink to this definition">#</a></dt>
<dd><p><em>Controls the robot by following instructions given to it by the state machine</em></p>
<p>In this Class the Robot Controller server is initialized and waits for commands from
the statemachine. Based on this command it interacts with the knowledge client or
Navigation server, to perform the given goal. It also manages the data required for
the navigation and knowledge node to perform their task.</p>
<p>The battery life of the robot is also managed in this class, it’s has methods
to discharge or charge the battery based on a given charge and discharge rate.
It knows when the battery is low or when a stop call is requested, with this
information, it preempts the navigation if navigating to a room or just send back
on outcome of the robot state <em>(battery low, or stop call)</em> to the state machine,
which would then transition to the appropriate state to carry out the action required
for either of those alerts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller._charge_robot_battery">
<span class="sig-name descname"><span class="pre">_charge_robot_battery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller._charge_robot_battery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller._charge_robot_battery" title="Permalink to this definition">#</a></dt>
<dd><p>This method handles the robot battery charging request, it sets battery charging property to <code class="docutils literal notranslate"><span class="pre">True</span></code>
for the battery manager to change state into charging mode. And then it waits until the robot battery
is charged full till 100% or a stop call is requested.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller._check_map">
<span class="sig-name descname"><span class="pre">_check_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller._check_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller._check_map" title="Permalink to this definition">#</a></dt>
<dd><p>This methods handles the requestion of checking if the <code class="docutils literal notranslate"><span class="pre">topological_map</span></code>
parameter server exists</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller._get_next_poi">
<span class="sig-name descname"><span class="pre">_get_next_poi</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller._get_next_poi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller._get_next_poi" title="Permalink to this definition">#</a></dt>
<dd><p>This method handles the request of get the next point of interest from the knowledge client.
The next point of interest given is then saved as a property for later use if the robot is requested
to navigate to the next point of interest.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller._goto_poi">
<span class="sig-name descname"><span class="pre">_goto_poi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller._goto_poi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller._goto_poi" title="Permalink to this definition">#</a></dt>
<dd><p>This method takes the location determined from the next point of interest call
and then navigates there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location_type</strong> (<em>str</em>) – the location type could be <code class="docutils literal notranslate"><span class="pre">'room'</span></code>, <code class="docutils literal notranslate"><span class="pre">'corridor'</span></code>, <code class="docutils literal notranslate"><span class="pre">'reacharge</span> <span class="pre">point'</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller._survey_location">
<span class="sig-name descname"><span class="pre">_survey_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/controller.html#Controller._survey_location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller._survey_location" title="Permalink to this definition">#</a></dt>
<dd><p>This method survey the location for a set amount of time. Right now, all this method
does is to waste time, but in later versions of this project the robot would navigate around
the given location to survery the location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location_type</strong> (<em>str</em>) – the location type to survey, could be <code class="docutils literal notranslate"><span class="pre">'room'</span></code> or <code class="docutils literal notranslate"><span class="pre">'corridor'</span></code>,
this is needed because the time it takes to survery either of this types of
location is set to different values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller._update_topology">
<span class="sig-name descname"><span class="pre">_update_topology</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller._update_topology"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller._update_topology" title="Permalink to this definition">#</a></dt>
<dd><p>This methods handles the request of updating the ontology with the topological
map information. It does this by calling the knowledge client to precess the request and
add the requested information into the ontology</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.battery_manager">
<span class="sig-name descname"><span class="pre">battery_manager</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.battery_manager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.battery_manager" title="Permalink to this definition">#</a></dt>
<dd><p>A method that runs in an infinite loop to manage the battery life,
either by <strong>charging</strong> it or <strong>discharging</strong> it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.call_knowledge_srv">
<span class="sig-name descname"><span class="pre">call_knowledge_srv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KnowledgeRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">KnowledgeResponse</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.call_knowledge_srv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.call_knowledge_srv" title="Permalink to this definition">#</a></dt>
<dd><p>Sends a request to the knowledge manager and receives the response</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>req</strong> (<em>KnowledgeRequest</em>) – the request message sent to the knowledge manager</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the response from the knowledge manager or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the
call to the knowledge manager failed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[KnowledgeResponse]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.call_robot_navigator">
<span class="sig-name descname"><span class="pre">call_robot_navigator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.call_robot_navigator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.call_robot_navigator" title="Permalink to this definition">#</a></dt>
<dd><p><em>Sends a goal message to the navigation servers</em></p>
<p>After sending the goal to the navigation server it waits for the result from the
navigation server, while doing this it also checks for the low battery and stop call
property of the Robot controller. It the battery is low or a stop call is requested,
and the robot is currently navigating to a room, that goal is preempted, and the
stop call or battery low alert is returned to the state machine as a response.
If the robot was navigating to the corridor or charging point, the goal is not preempted but the result
sent to the state machine is the battery low or stop call alert</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location_type</strong> (<em>str</em>) – the type of location being navigated to, either <code class="docutils literal notranslate"><span class="pre">'room'</span></code>, <code class="docutils literal notranslate"><span class="pre">'corridor'</span></code>,
or <code class="docutils literal notranslate"><span class="pre">'charging</span> <span class="pre">point'</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.charge_battery">
<span class="sig-name descname"><span class="pre">charge_battery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.charge_battery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.charge_battery" title="Permalink to this definition">#</a></dt>
<dd><p>The methods charges the battery life by a given <code class="docutils literal notranslate"><span class="pre">recharge_rate</span></code>, then changes the properties of the
battery, by setting battery low to <code class="docutils literal notranslate"><span class="pre">False</span></code> and full battery to <code class="docutils literal notranslate"><span class="pre">True</span></code>. And it finally logs the
battery report</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.discharge_battery">
<span class="sig-name descname"><span class="pre">discharge_battery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.discharge_battery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.discharge_battery" title="Permalink to this definition">#</a></dt>
<dd><p>This method discharges the battery life by a given <code class="docutils literal notranslate"><span class="pre">discharge_rate</span></code>, then changes the properites of the
battery, by setting the battery low to <code class="docutils literal notranslate"><span class="pre">False</span></code> when the battery become less than 20% and logs the
battery report.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.execute_cb">
<span class="sig-name descname"><span class="pre">execute_cb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RobotControllerGoal</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.execute_cb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.execute_cb" title="Permalink to this definition">#</a></dt>
<dd><p><em>Execute the goal sent to the robot controller action server.</em></p>
<p>This is the callback function of the robot controller action server, it receives a
<code class="docutils literal notranslate"><span class="pre">goal</span></code> from the statemachine with is then precessed based on requirements and then sent
to the appropriate node to handle the task</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>RobotControllerGoal</em>) – the goal message sent from the statemachine</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.report_robot_status">
<span class="sig-name descname"><span class="pre">report_robot_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.report_robot_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.report_robot_status" title="Permalink to this definition">#</a></dt>
<dd><p>This method logs the robot state properties to the terminal on request</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.Controller.robot_state_clbk">
<span class="sig-name descname"><span class="pre">robot_state_clbk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RobotStateRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">RobotStateResponse</span></span></span><a class="reference internal" href="_modules/scripts/controller.html#Controller.robot_state_clbk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.Controller.robot_state_clbk" title="Permalink to this definition">#</a></dt>
<dd><p><em>Function called to handle the robot state service request from the client.</em></p>
<p>This is a callback function that handles the request sent in from the client. The
request could either be empty which means a query request or <code class="docutils literal notranslate"><span class="pre">&quot;stop</span> <span class="pre">surveillance&quot;</span></code>
which mean to change the stop call property of the robot controller class to <code class="docutils literal notranslate"><span class="pre">True</span></code>
thereby stopping the robot surveillance. After either of the request it logs the
robot state to the terminal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>req</strong> (<em>RobotStateRequest</em>) – the request messages sent to the server from the client</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the response to the client request, always the success status
and the <code class="docutils literal notranslate"><span class="pre">robot_state</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>RobotStateResponse</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.controller.bcolors">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.controller.</span></span><span class="sig-name descname"><span class="pre">bcolors</span></span><a class="reference internal" href="_modules/scripts/controller.html#bcolors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.bcolors" title="Permalink to this definition">#</a></dt>
<dd><p>Color class to higlight log messages.</p>
</dd></dl>

</section>
<section id="module-scripts.navigation">
<span id="navigation-module"></span><h2>Navigation Module<a class="headerlink" href="#module-scripts.navigation" title="Permalink to this heading">#</a></h2>
<span class="target" id="module-navigation"></span><p>In this module the class <code class="docutils literal notranslate"><span class="pre">RobotNavigation</span></code> takes action messages from the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> node
of the point of interest to navigate to, the node then gets the coordinates of the point of interest
and navigates the robot to that coordinate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For this version of the project, the navigation node doesn’t actually navigate a robot to the
given coordinates, instead it sleeps for a random amount of seconds within the range 1-10 with the function
<code class="docutils literal notranslate"><span class="pre">time.sleep(rand_num)</span></code></p>
</div>
<dl class="simple">
<dt><strong>Subscribes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Publishes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Service:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Action:</strong></dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">/robot_navigation</span></code> <em>(server):</em></dt><dd><p>receives a goal message of the required point of interest, gets the
coordinates to the point of interest and then navigates the robot to that point of interest</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.navigation.RobotNavigation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.navigation.</span></span><span class="sig-name descname"><span class="pre">RobotNavigation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/navigation.html#RobotNavigation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.RobotNavigation" title="Permalink to this definition">#</a></dt>
<dd><p>Navigate the robot to the given point of interest</p>
<p>This is an action server that takes in a goal point which is dubbed <em>Point Of Interest (POI)</em>, the
exact coordinate to the POI is taken from the <code class="docutils literal notranslate"><span class="pre">topological_map</span></code> parameter server, for which it does
some sort of check to see if the given POI is valid, if not it Aborts the goal.
The action server is capable of navigating the robot to a location of any type, either <code class="docutils literal notranslate"><span class="pre">&quot;room&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;corridor&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;recharge</span> <span class="pre">point&quot;</span></code>. While the action server is navigating the robot to the POI, it is
actively checking for preempt request so as to stop the navigation and set the state of the action
to preempted and log the preempt action to the terminal.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.navigation.RobotNavigation._check_preempt">
<span class="sig-name descname"><span class="pre">_check_preempt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/scripts/navigation.html#RobotNavigation._check_preempt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.RobotNavigation._check_preempt" title="Permalink to this definition">#</a></dt>
<dd><p>Checks if preemtion has been requested by the Client</p>
<p>If Preemption is requested it returns <code class="docutils literal notranslate"><span class="pre">True</span></code> and logs the status to
the terminal otherwise returns <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>poi</strong> (<em>str</em>) – the point of interest, used for logging if preempt was requested</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if preempt request <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.navigation.RobotNavigation._go_to_poi">
<span class="sig-name descname"><span class="pre">_go_to_poi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poi_req</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/navigation.html#RobotNavigation._go_to_poi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.RobotNavigation._go_to_poi" title="Permalink to this definition">#</a></dt>
<dd><p>Navigates the robot to the given point of interest</p>
<p>It gets the Locations (POI) coordinates from the <code class="docutils literal notranslate"><span class="pre">topological_map</span></code> parameter
server and then navigates the robot to the corresponding coordinates of the given
POI, which checking if preemption was not requested by the client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>poi_req</strong> (<em>str</em>) – the point of interest that the robot should be navigated to</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the result of the navigation, either <code class="docutils literal notranslate"><span class="pre">'goal</span> <span class="pre">preempted'</span></code> or <code class="docutils literal notranslate"><span class="pre">'goal</span> <span class="pre">reached'</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.navigation.RobotNavigation._handle_feedback">
<span class="sig-name descname"><span class="pre">_handle_feedback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/navigation.html#RobotNavigation._handle_feedback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.RobotNavigation._handle_feedback" title="Permalink to this definition">#</a></dt>
<dd><p>This would be implemented in later versions of the project</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.navigation.RobotNavigation.execute_cb">
<span class="sig-name descname"><span class="pre">execute_cb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RobotNavGoal</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/navigation.html#RobotNavigation.execute_cb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.RobotNavigation.execute_cb" title="Permalink to this definition">#</a></dt>
<dd><p>Executes the action goal request to the robot_navigation action server</p>
<p>This is the callback function that is called whenever the robot_navigation
action server is sent a goal request</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>RobotNavGoal</em>) – The goal request messege sent to the server from the client</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.navigation.bcolors">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.navigation.</span></span><span class="sig-name descname"><span class="pre">bcolors</span></span><a class="reference internal" href="_modules/scripts/navigation.html#bcolors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.bcolors" title="Permalink to this definition">#</a></dt>
<dd><p>Color class to higlight log messages.</p>
</dd></dl>

</section>
<section id="module-scripts.knowledge_client">
<span id="knowledge-manager-module"></span><h2>Knowledge Manager Module<a class="headerlink" href="#module-scripts.knowledge_client" title="Permalink to this heading">#</a></h2>
<span class="target" id="module-knowledge_client"></span><p>In this module the class <code class="docutils literal notranslate"><span class="pre">KnowledgeManager</span></code> takes service message from the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> node
to either update the ontology with some information or query the ontology about some information.
The class takes care of all the steps to be done to properly update and query the ontology, it also
keep some information about the current state of the robot to use when updating the ontology in the case
when it has to replace a fact.</p>
<dl class="simple">
<dt><strong>Subscribes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Publishes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><strong>Service:</strong></dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">/knowledge_srv</span></code> <em>(server)</em>:</dt><dd><p>receives a message from the <a href="#id1"><span class="problematic" id="id2">``</span></a>robot_controller` node with a goal of what to be done and the information required for the task to be done.</p>
</dd>
</dl>
</dd>
<dt><strong>Action:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.knowledge_client.ArmorClientPlus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.knowledge_client.</span></span><span class="sig-name descname"><span class="pre">ArmorClientPlus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/armor_interface_srv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serial_service_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/armor_interface_serialized_srv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/knowledge_client.html#ArmorClientPlus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.ArmorClientPlus" title="Permalink to this definition">#</a></dt>
<dd><p>An extension to the ArmorClient class</p>
<p>This class inherits from the ArmorClient class in order to add a method that does not exist in the
ArmorClient into this subclass.
The Added method is a manipulation method that disjoint all given individuals</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ArmorClient</strong> (<em>ArmorClient</em>) – This is the armor client that was created for the possiblility to integrate</p></li>
<li><p><strong>class</strong> (<em>with the armor server. It is the base class to this ArmorClientPlus</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.ArmorClientPlus.disjoint_all_ind">
<span class="sig-name descname"><span class="pre">disjoint_all_ind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">individuals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#ArmorClientPlus.disjoint_all_ind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.ArmorClientPlus.disjoint_all_ind" title="Permalink to this definition">#</a></dt>
<dd><p>Disjoints all the given individuals</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>individuals</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – a list of individuals that should be disjoint in the ontology</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ArmorServiceCallError</strong> – if call to ARMOR fails</p></li>
<li><p><strong>ArmorServiceCallError</strong> – if call to ARMOR fails</p></li>
<li><p><strong>ArmorServiceInternalError</strong> – if ARMOR reports an internal error</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the operation was successful otherwise <cite>False</cite></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.knowledge_client.</span></span><span class="sig-name descname"><span class="pre">KnowledgeManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager" title="Permalink to this definition">#</a></dt>
<dd><p>Manages the interaction with armor based on the request gotten from the controller</p>
<p>In this class, the ArmorClientPlus class is initialized with is then used to interact with
aRMOR to manipulate, query and manage the ontology. It waits for a request from the robot
controller and then performs the required task on the Ontology through the armor client, and
then returns the appropriate results, typically the success report of the task of some facts
generated by the reasoner of the Armor Server (PELLET).</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._get_next_point_of_interest">
<span class="sig-name descname"><span class="pre">_get_next_point_of_interest</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._get_next_point_of_interest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._get_next_point_of_interest" title="Permalink to this definition">#</a></dt>
<dd><p>Gets the next point of interest by querying the Ontology for Facts</p>
<p>This method queries the Ontology for the reachable locations by the robot,
it then queries the ontology for the urgency rooms. Based on these two facts,
it determines if there’s a reachable urgency room available, or no reachable
urgency room and other conclusions that the state machine uses to make the
decisions on where or what to do next.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._get_previous_robot_location">
<span class="sig-name descname"><span class="pre">_get_previous_robot_location</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._get_previous_robot_location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._get_previous_robot_location" title="Permalink to this definition">#</a></dt>
<dd><p>Gets the robot’s previous location from the Ontology</p>
<p>This method queries the Ontology for the <cite>isIn</cite> property of the robot
to get the previous location set for the robot. This is useful for when
the robot just changed location so as to replace this old location with
the new location</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the previous location set for the robot in the Ontology</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._get_previous_timestamp">
<span class="sig-name descname"><span class="pre">_get_previous_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urgency_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._get_previous_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._get_previous_timestamp" title="Permalink to this definition">#</a></dt>
<dd><p>Get the previous timestamp of a given individual</p>
<p>This method gets the previous timestamp of either the Robot’s last change of
location or the last time a location was visited. The location parameter is
set to a given location if it’s required to determine the last time a location
was visited otherwise <cite>None</cite> with is for the last time a robot change location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – The location to get the previous timestamp
for or <cite>None</cite> if it’s the robot timestamp for last change of location.
Defaults to None.</p></li>
<li><p><strong>urgency_threshold</strong> (<em>bool</em><em>, </em><em>optional</em>) – This is True if the method is required to
get the previous urgency threshold set, otherwise it’s for either a location
timestamp or last timestamp for the robots change of location.
Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the previous timestamp of the given individual property, either a location,</dt><dd><p>the robot, or the urgency property of the robot.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._get_reachable_locations">
<span class="sig-name descname"><span class="pre">_get_reachable_locations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._get_reachable_locations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._get_reachable_locations" title="Permalink to this definition">#</a></dt>
<dd><p>Gets the reachable locations by the robot based on it’s current location</p>
<p>The function querys the Armor for the <cite>canReach</cite> property of the robot after
calling the reasoner. It then seperate the reachable location based on their
location type (ie room, corridor, charging station) in a <cite>ReachableLocations</cite>
type variable and then returns the generated ReachableLocations variable</p>
<dl class="simple">
<dt>Type Aliases:</dt><dd><p>ReachableLocations = Dict[str, List[str]]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>This is a dictionary that contains the a list of reachable</dt><dd><p>locations based on the location type (keys).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ReachableLocations</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._get_reachable_urgent_rooms">
<span class="sig-name descname"><span class="pre">_get_reachable_urgent_rooms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reachable_rooms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._get_reachable_urgent_rooms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._get_reachable_urgent_rooms" title="Permalink to this definition">#</a></dt>
<dd><p>Get the reachable urgency rooms that the robot can navigate to</p>
<p>In this method it takes the reachable rooms and then querys the ontology for
rooms with the <cite>Urgency</cite> properties and checks to see if any of the urgency
rooms are in the reachable rooms, if so it returns those rooms as the reachable
urgency rooms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reachable_rooms</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – the reachables rooms by the robot, for which
the method is supposed to check the urgency rooms against, to determine
the reachable urgency rooms.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of reachable urgent rooms.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._initialize_urgency_threshold">
<span class="sig-name descname"><span class="pre">_initialize_urgency_threshold</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._initialize_urgency_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._initialize_urgency_threshold" title="Permalink to this definition">#</a></dt>
<dd><p>Initializes the urgency threshold of the Rooms</p>
<p>It changes the urgency threshold of the rooms from the robot
property to a favourable time for the surveillance senario</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._update_current_timestamp">
<span class="sig-name descname"><span class="pre">_update_current_timestamp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._update_current_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._update_current_timestamp" title="Permalink to this definition">#</a></dt>
<dd><p>Updates the <cite>now</cite> property of the Robot individual</p>
<p>It gets the Unix current timestamp and also gets the previous
timestamp from the ontology and replaces the old timestamp with
the new one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._update_now">
<span class="sig-name descname"><span class="pre">_update_now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._update_now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._update_now" title="Permalink to this definition">#</a></dt>
<dd><p>A function called to fulfill the request of updating the now time which is
the last time the robot changed location.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._update_robot_location">
<span class="sig-name descname"><span class="pre">_update_robot_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._update_robot_location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._update_robot_location" title="Permalink to this definition">#</a></dt>
<dd><p>Update the <cite>isIn</cite> property of the robot with the new location</p>
<p>This method gets the old location of the robot from the ontology and
then replaces it with the new location where the robot is at.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_location</strong> (<em>str</em>) – the new location to replace the old location
set with</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._update_topology">
<span class="sig-name descname"><span class="pre">_update_topology</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">robot_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._update_topology"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._update_topology" title="Permalink to this definition">#</a></dt>
<dd><p>Adds the topological map into the topological_map Ontology</p>
<p>This function takes the information in the topological_map parameter server
and then adds each of the locations with their corresponding doors into the
topological_map Ontology, after adding the location it also initializes the
urgency threshold of the rooms, update the <cite>now</cite> timestamp of the robot and
adds the robot <cite>isIn</cite> property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>robot_location</strong> (<em>str</em>) – the location which the robot <cite>isIn</cite>, this is used
add the <cite>isIn</cite> property of the robot</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._update_visited_location">
<span class="sig-name descname"><span class="pre">_update_visited_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visited_location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._update_visited_location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._update_visited_location" title="Permalink to this definition">#</a></dt>
<dd><p>Updates the object properties of a visited location.</p>
<p>It updates the <cite>visitedAt</cite> property of a visited location</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>visited_location</strong> (<em>str</em>) – the location for which to update the <cite>visitedAt</cite>
property</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager._update_visited_timestamp">
<span class="sig-name descname"><span class="pre">_update_visited_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager._update_visited_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager._update_visited_timestamp" title="Permalink to this definition">#</a></dt>
<dd><p>Updates the timestamp of when a location was last visited</p>
<p>After a location has been visited by the robot, this method is called
to update the visited timestamp of the location to the current timestamp
This fact and the <cite>now</cite> timestamp of the robot is used by the reasoner
to determine the location with the <cite>urgency</cite> property</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location</strong> (<em>str</em>) – the location to update the timestamp for</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.knowledge_client.KnowledgeManager.knowledge_clbk">
<span class="sig-name descname"><span class="pre">knowledge_clbk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KnowledgeRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">KnowledgeResponse</span></span></span><a class="reference internal" href="_modules/scripts/knowledge_client.html#KnowledgeManager.knowledge_clbk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.knowledge_client.KnowledgeManager.knowledge_clbk" title="Permalink to this definition">#</a></dt>
<dd><p>Handles the request sent to this knowledge_manager server</p>
<p>This is a callback function that is used to handle the request sent to the initialized
service server, the request exclusively comes from the robot controller in this
architecture. Typically to make updates to the Ontology and request a fact that was
generated by the reasoner.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>KnowledgeRequest</em>) – the request message sent to the knowledge server.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the result to the request sent by the calling client</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>KnowledgeResponse</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-scripts.modules.states">
<span id="state-machine-classes-definition-module"></span><h2>State Machine Classes Definition Module<a class="headerlink" href="#module-scripts.modules.states" title="Permalink to this heading">#</a></h2>
<span class="target" id="module-states"></span><p>In this module the states of the statemachine is defined, the state definition contains
the proper transition based on the outcomes of the action.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The action of each state  is not defined in the state definition, in the execution part
of the state, an action message is sent to the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> with the required
goal set and the controller carries out the required goal. The state machine is a node
for describing what the robot should do next and it is inidependent of the action execution.</p>
</div>
<dl class="simple">
<dt><strong>Subscribes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Publishes to:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Service:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt><strong>Action:</strong></dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">/robot_controller</span></code> <em>(client)</em>:</dt><dd><p>sends the required goal to be perform by the robot controller to the robot controller.
based on the state at which the state machine is at.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.BatteryCharging">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">BatteryCharging</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#BatteryCharging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.BatteryCharging" title="Permalink to this definition">#</a></dt>
<dd><p><em>Charging the robot battery until it’s fully charged (100%)</em></p>
<p>In this state the robot charges the battery of the robot till is gets to
100%, it can only be preempted by stop request to stop the surveillance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.BatteryCharging.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#BatteryCharging.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.BatteryCharging.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the robot_controller server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.BuildMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">BuildMap</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#BuildMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.BuildMap" title="Permalink to this definition">#</a></dt>
<dd><p><em>Builds the topological map of the location to be surveyed</em></p>
<p>In this state the robot navigates through the given location to
be surveyed and builds a topological map or the area which is then
being added to the <code class="docutils literal notranslate"><span class="pre">topological_map</span></code> parameter server for the <code class="docutils literal notranslate"><span class="pre">knowledge_client</span></code>
to take and use to update the topological map ontology</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.BuildMap.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#BuildMap.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.BuildMap.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the robot controller server is
called and the result from the return message is returned as the
outcome of the state.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This state would never be visited for this stage of the project
it is just a place holder for when the map would actually be required
to be built in a more complicated version of this project.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.CheckMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">CheckMap</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#CheckMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.CheckMap" title="Permalink to this definition">#</a></dt>
<dd><p><em>State to check if the map exists</em></p>
<p>In this state the <code class="docutils literal notranslate"><span class="pre">topological_map</span></code> parameter server is checked, to see
if the topological map of the area to be surveyed already exist.
If it exist it can then go on to update the map into the topological_map
ontology.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.CheckMap.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#CheckMap.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.CheckMap.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.GetNextPointOfInterest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">GetNextPointOfInterest</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GetNextPointOfInterest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GetNextPointOfInterest" title="Permalink to this definition">#</a></dt>
<dd><p><em>Gets the Next Location for the Robot to Navigate to</em></p>
<p>In this state, the next action to be performed is determined based on the
result of querying the ontology for reachable and urgent room.</p>
<ul class="simple">
<li><p>if there’s a reachable and urgent room, the robot navigates there,</p></li>
<li><p>if there are no reachable rooms that are urgent but there’s a reachable
corridor, the robot navigates to the corridor</p></li>
<li><p>if there’s no reachable and urgent room and there’s no reachable corridor
the robot surveys the current location which it is at (typically a corridor)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.GetNextPointOfInterest.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GetNextPointOfInterest.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GetNextPointOfInterest.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.GoToCorridor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">GoToCorridor</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GoToCorridor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GoToCorridor" title="Permalink to this definition">#</a></dt>
<dd><p><em>Navigates the robot to the next corridor of interest</em></p>
<p>In this state, the robot navigates to the reachable corridor that was
returned to the controller during the <code class="docutils literal notranslate"><span class="pre">GetNextPointOfInterest</span></code> state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.GoToCorridor.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GoToCorridor.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GoToCorridor.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.GoToRechargePoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">GoToRechargePoint</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GoToRechargePoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GoToRechargePoint" title="Permalink to this definition">#</a></dt>
<dd><p><em>Navigates the robot to the Recharge Point</em></p>
<p>In this state, the robot navigates to the Recharge Point so as to
recharge the battery or to stop the surveillance operation, depending
on if the battery became low or a stop request was made</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.GoToRechargePoint.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GoToRechargePoint.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GoToRechargePoint.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.GoToRoom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">GoToRoom</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GoToRoom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GoToRoom" title="Permalink to this definition">#</a></dt>
<dd><p><em>Navigates the robot to the next room of interest</em></p>
<p>In this state, the robot navigates to the urgent reachable room that was
returned to the controller during the <code class="docutils literal notranslate"><span class="pre">GetNextPointOfInterest</span></code> state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.GoToRoom.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#GoToRoom.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.GoToRoom.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.SurveyCorridor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">SurveyCorridor</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#SurveyCorridor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.SurveyCorridor" title="Permalink to this definition">#</a></dt>
<dd><p><em>Surveys the corridor for a set amount of time</em></p>
<p>In this state the robot surveys corridor for a given amount of time, and
when it’s done, it goes to the <code class="docutils literal notranslate"><span class="pre">GetNextPointOfInterest</span></code> state to figure out
what to do next</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.SurveyCorridor.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#SurveyCorridor.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.SurveyCorridor.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.SurveyRoom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">SurveyRoom</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#SurveyRoom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.SurveyRoom" title="Permalink to this definition">#</a></dt>
<dd><p><em>Surveys the room for a set amount of time</em></p>
<p>In this state the robot surveys the room for a given amount of time, and
when it’s done, it goes back to surveying the corridor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.SurveyRoom.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#SurveyRoom.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.SurveyRoom.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.UpdateKnowledge">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">UpdateKnowledge</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#UpdateKnowledge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.UpdateKnowledge" title="Permalink to this definition">#</a></dt>
<dd><p><em>Updates the topological map information into the topological map Ontology</em></p>
<p>In this state, the <code class="docutils literal notranslate"><span class="pre">knowledge_client</span></code> calls the arMOR server through the <code class="docutils literal notranslate"><span class="pre">armor_client</span></code>
and then update the Ontology with the information found in the <code class="docutils literal notranslate"><span class="pre">topological_map</span></code>
parameter server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>smach</strong> (<em>smach.State</em>) – The smach class for initializing the state</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.modules.states.UpdateKnowledge.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#UpdateKnowledge.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.UpdateKnowledge.execute" title="Permalink to this definition">#</a></dt>
<dd><p><em>The method that executes the task of the state</em></p>
<p>In here the function for calling the robot controller server is
called and the result from the return message is returned as the
outcome of the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>userdata</strong> (<em>Any</em>) – The userdata that is passed between states on
each states completion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the outcome of the state which most be one of the possible</dt><dd><p>outcomes given</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.modules.states.bcolors">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">bcolors</span></span><a class="reference internal" href="_modules/scripts/modules/states.html#bcolors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.bcolors" title="Permalink to this definition">#</a></dt>
<dd><p>Color class to higlight log messages.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.modules.states.call_robot_controller">
<span class="sig-prename descclassname"><span class="pre">scripts.modules.states.</span></span><span class="sig-name descname"><span class="pre">call_robot_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal_req</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RobotControllerGoal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">RobotControllerResult</span></span></span><a class="reference internal" href="_modules/scripts/modules/states.html#call_robot_controller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.modules.states.call_robot_controller" title="Permalink to this definition">#</a></dt>
<dd><p><em>Sends a goal message to the robot controller server</em></p>
<p>This function takes a goal message from the execute method of each state
and sends it to the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server, if it’s unable to make a connection
with the <code class="docutils literal notranslate"><span class="pre">robot_controller</span></code> server, it uses the <code class="docutils literal notranslate"><span class="pre">fail_msg</span></code> parameter to return the
appropriate failure message, so the state can use it as it’s outcome.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>goal_req</strong> (<em>RobotControllerGoal</em>) – The goal object (message) of a custom generated class
to interface with the robot controller server</p></li>
<li><p><strong>fail_msg</strong> (<em>str</em>) – a failure message to return to the calling state, so
it can use it as the outcome</p></li>
<li><p><strong>state_name</strong> (<em>str</em>) – the name of the state being executed to log it
to terminal</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>the result of calling the robot controller</dt><dd><p>server, it could either be a direct result from the server or
on failure to make a connection with the server a result composed
of the failure message given.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>RobotControllerResult</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="installation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">How to Install and Run the Project</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Omotoye Shamsudeen Adekoya
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">API</a><ul>
<li><a class="reference internal" href="#module-scripts.controller">Controller Module</a><ul>
<li><a class="reference internal" href="#scripts.controller.Controller"><code class="docutils literal notranslate"><span class="pre">Controller</span></code></a><ul>
<li><a class="reference internal" href="#scripts.controller.Controller._charge_robot_battery"><code class="docutils literal notranslate"><span class="pre">Controller._charge_robot_battery()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller._check_map"><code class="docutils literal notranslate"><span class="pre">Controller._check_map()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller._get_next_poi"><code class="docutils literal notranslate"><span class="pre">Controller._get_next_poi()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller._goto_poi"><code class="docutils literal notranslate"><span class="pre">Controller._goto_poi()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller._survey_location"><code class="docutils literal notranslate"><span class="pre">Controller._survey_location()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller._update_topology"><code class="docutils literal notranslate"><span class="pre">Controller._update_topology()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.battery_manager"><code class="docutils literal notranslate"><span class="pre">Controller.battery_manager()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.call_knowledge_srv"><code class="docutils literal notranslate"><span class="pre">Controller.call_knowledge_srv()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.call_robot_navigator"><code class="docutils literal notranslate"><span class="pre">Controller.call_robot_navigator()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.charge_battery"><code class="docutils literal notranslate"><span class="pre">Controller.charge_battery()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.discharge_battery"><code class="docutils literal notranslate"><span class="pre">Controller.discharge_battery()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.execute_cb"><code class="docutils literal notranslate"><span class="pre">Controller.execute_cb()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.report_robot_status"><code class="docutils literal notranslate"><span class="pre">Controller.report_robot_status()</span></code></a></li>
<li><a class="reference internal" href="#scripts.controller.Controller.robot_state_clbk"><code class="docutils literal notranslate"><span class="pre">Controller.robot_state_clbk()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.controller.bcolors"><code class="docutils literal notranslate"><span class="pre">bcolors</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.navigation">Navigation Module</a><ul>
<li><a class="reference internal" href="#scripts.navigation.RobotNavigation"><code class="docutils literal notranslate"><span class="pre">RobotNavigation</span></code></a><ul>
<li><a class="reference internal" href="#scripts.navigation.RobotNavigation._check_preempt"><code class="docutils literal notranslate"><span class="pre">RobotNavigation._check_preempt()</span></code></a></li>
<li><a class="reference internal" href="#scripts.navigation.RobotNavigation._go_to_poi"><code class="docutils literal notranslate"><span class="pre">RobotNavigation._go_to_poi()</span></code></a></li>
<li><a class="reference internal" href="#scripts.navigation.RobotNavigation._handle_feedback"><code class="docutils literal notranslate"><span class="pre">RobotNavigation._handle_feedback()</span></code></a></li>
<li><a class="reference internal" href="#scripts.navigation.RobotNavigation.execute_cb"><code class="docutils literal notranslate"><span class="pre">RobotNavigation.execute_cb()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.navigation.bcolors"><code class="docutils literal notranslate"><span class="pre">bcolors</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.knowledge_client">Knowledge Manager Module</a><ul>
<li><a class="reference internal" href="#scripts.knowledge_client.ArmorClientPlus"><code class="docutils literal notranslate"><span class="pre">ArmorClientPlus</span></code></a><ul>
<li><a class="reference internal" href="#scripts.knowledge_client.ArmorClientPlus.disjoint_all_ind"><code class="docutils literal notranslate"><span class="pre">ArmorClientPlus.disjoint_all_ind()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager</span></code></a><ul>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._get_next_point_of_interest"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._get_next_point_of_interest()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._get_previous_robot_location"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._get_previous_robot_location()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._get_previous_timestamp"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._get_previous_timestamp()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._get_reachable_locations"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._get_reachable_locations()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._get_reachable_urgent_rooms"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._get_reachable_urgent_rooms()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._initialize_urgency_threshold"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._initialize_urgency_threshold()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._update_current_timestamp"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._update_current_timestamp()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._update_now"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._update_now()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._update_robot_location"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._update_robot_location()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._update_topology"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._update_topology()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._update_visited_location"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._update_visited_location()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager._update_visited_timestamp"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager._update_visited_timestamp()</span></code></a></li>
<li><a class="reference internal" href="#scripts.knowledge_client.KnowledgeManager.knowledge_clbk"><code class="docutils literal notranslate"><span class="pre">KnowledgeManager.knowledge_clbk()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.modules.states">State Machine Classes Definition Module</a><ul>
<li><a class="reference internal" href="#scripts.modules.states.BatteryCharging"><code class="docutils literal notranslate"><span class="pre">BatteryCharging</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.BatteryCharging.execute"><code class="docutils literal notranslate"><span class="pre">BatteryCharging.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.BuildMap"><code class="docutils literal notranslate"><span class="pre">BuildMap</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.BuildMap.execute"><code class="docutils literal notranslate"><span class="pre">BuildMap.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.CheckMap"><code class="docutils literal notranslate"><span class="pre">CheckMap</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.CheckMap.execute"><code class="docutils literal notranslate"><span class="pre">CheckMap.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.GetNextPointOfInterest"><code class="docutils literal notranslate"><span class="pre">GetNextPointOfInterest</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.GetNextPointOfInterest.execute"><code class="docutils literal notranslate"><span class="pre">GetNextPointOfInterest.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.GoToCorridor"><code class="docutils literal notranslate"><span class="pre">GoToCorridor</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.GoToCorridor.execute"><code class="docutils literal notranslate"><span class="pre">GoToCorridor.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.GoToRechargePoint"><code class="docutils literal notranslate"><span class="pre">GoToRechargePoint</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.GoToRechargePoint.execute"><code class="docutils literal notranslate"><span class="pre">GoToRechargePoint.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.GoToRoom"><code class="docutils literal notranslate"><span class="pre">GoToRoom</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.GoToRoom.execute"><code class="docutils literal notranslate"><span class="pre">GoToRoom.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.SurveyCorridor"><code class="docutils literal notranslate"><span class="pre">SurveyCorridor</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.SurveyCorridor.execute"><code class="docutils literal notranslate"><span class="pre">SurveyCorridor.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.SurveyRoom"><code class="docutils literal notranslate"><span class="pre">SurveyRoom</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.SurveyRoom.execute"><code class="docutils literal notranslate"><span class="pre">SurveyRoom.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.UpdateKnowledge"><code class="docutils literal notranslate"><span class="pre">UpdateKnowledge</span></code></a><ul>
<li><a class="reference internal" href="#scripts.modules.states.UpdateKnowledge.execute"><code class="docutils literal notranslate"><span class="pre">UpdateKnowledge.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.modules.states.bcolors"><code class="docutils literal notranslate"><span class="pre">bcolors</span></code></a></li>
<li><a class="reference internal" href="#scripts.modules.states.call_robot_controller"><code class="docutils literal notranslate"><span class="pre">call_robot_controller()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>